<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Instruction part 2</title>
    <link rel="stylesheet" href="/static/css/instruction_2.css">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}">
</head>
<body>
    <div class="instructions-container">
        <h1>ğŸ™‹ å°å°å•ä¸€ä¸‹</h1>
        <p style="text-align: center;">
            æˆ‘å€‘æƒ³ç°¡å–®äº†è§£åƒèˆ‡è€…çš„èƒŒæ™¯
        </p>        
        <div class="welcome-container">
            <form id="player-form" action="/instruction2" method="post" class="player-form" onsubmit="showPracticeModal(event)">
                <input type="text" name="player_name_display" id="player_name_display" value="{{ player_name }}" style="display: none;" disabled>
                <input type="hidden" name="player_name" id="player_name" value="{{ player_name }}">

                <label for="age">æ‚¨çš„å¹´é½¡ï¼š</label>
                <select id="age" name="age" required>
                    <option value="" disabled selected>è«‹é¸æ“‡æ‚¨çš„å¹´é½¡ç¯„åœ</option>
                    <option value="18-24">18-24 æ­²</option>
                    <option value="25-29">25-29 æ­²</option>
                    <option value="30-34">30-34 æ­²</option>
                    <option value="35-39">35-39 æ­²</option>
                    <option value="40-44">40-44 æ­²</option>
                    <option value="45-49">45-49 æ­²</option>
                    <option value="50-54">50-54 æ­²</option>
                    <option value="55+">55 æ­²ä»¥ä¸Š</option>
                </select>

                <label for="gender">æ‚¨çš„æ€§åˆ¥ï¼š</label>
                <select id="gender" name="gender" onchange="toggleCustomGenderInput()" required>
                    <option value="" disabled selected>è«‹é¸æ“‡æ‚¨çš„æ€§åˆ¥</option>
                    <option value="male">ç”·æ€§</option>
                    <option value="female">å¥³æ€§</option>
                    <option value="Transgender">è·¨æ€§åˆ¥</option>
                    <option value="Non-binary">éäºŒå…ƒæ€§åˆ¥</option>
                    <option value="Prefer not to respond">ä¸é¡˜é€éœ²</option>

                </select>
                <button type="submit" class="start-button">é€²å…¥ç·´ç¿’ç’°ç¯€</button>
            </form>

            {% if error %}
            <p id="error-message" style="color: red;">{{ error }}</p>
            {% endif %}
        </div>
    </div>

    <!-- ç·´ç¿’èªªæ˜Modal -->
    <div id="practiceModal" class="modal">
        <div class="practice-modal-content">
            <div class="modal-header">ğŸ¯ é€²å…¥ç·´ç¿’ç’°ç¯€</div>
            <div class="modal-body">
                <p>è®“æˆ‘å€‘ç”¨ 5 å¼µç·´ç¿’åœ–ç‰‡ä¾†ç†±èº«ï¼Œç†Ÿæ‚‰éŠæˆ²çš„æ“ä½œæµç¨‹å§ï¼</p>
                <button type="button" class="practice-modal-button" onclick="submitForm()">é–‹å§‹ç·´ç¿’ ğŸ®</button>
            </div>
        </div>
    </div>

    <script>
        function toggleCustomGenderInput() {
            const genderSelect = document.getElementById('gender');
            const customGenderInput = document.getElementById('custom_gender');
            if (genderSelect.value === 'custom') {
                customGenderInput.style.display = 'block';
                customGenderInput.required = true;
            } else {
                customGenderInput.style.display = 'none';
                customGenderInput.required = false;
            }
        }

        document.addEventListener('keyup', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                document.querySelector('.start-button').click();
            }
        });
    </script>
    <script src="{{ url_for('static', filename='js/instruction.js') }}"></script>
</body>
</html>